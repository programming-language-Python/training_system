{% extends "base.html" %}
{% load static %}

{% block head_script %}
    HEAD_SCRIPT
{% endblock %}
{% block content %}
    {{ title }}
    <section class="content__testing testing" id="testing">
        <div class="testing__title" id="testing-title">
            <h2>
                {% if user.is_teacher %}
                    Создать настройки задач для тестирования {{ testing.title }}
                {% else %}
                    Тест {{ testing.title }}
                {% endif %}
            </h2>
        </div>
        {% if user.is_teacher %}
            <div class="uk-flex uk-flex-column">
                <div>
                    <button class="uk-margin uk-button uk-button-primary"
                            hx-get="{% url 'testing:testing_update' testing.pk %}"
                            hx-target="#testing-title"
                            hx-swap="outerHTML">
                        Обновить тестирование
                    </button>
                </div>
                <div>
                    <button class="uk-margin uk-button uk-button-danger"
                            hx-post="{% url 'testing:testing_delete' testing.pk %}">
                        Удалить тестирование
                    </button>
                </div>
                <div>
                    <button class="uk-button uk-button-secondary"
                            type="button"
                            hx-get="{% url 'testing:add_task_form' %}"
                            hx-target="#task-list"
                            hx-swap="afterbegin">
                        Добавить настройку задачи
                    </button>
                </div>
            </div>
        {% endif %}
    </section>

    <section class="content__task-form task-form uk-margin" id="task-form"></section>
    {% if user.is_teacher %}
        {% include 'testing/inc/task/_list.html' %}
    {% else %}
        {% include 'testing/inc/task/_student-list.html' %}
    {% endif %}
{% endblock %}