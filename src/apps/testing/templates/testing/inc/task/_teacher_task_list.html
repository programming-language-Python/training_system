<section class="content__testing-task-list testing-task-list">
    {% if tasks %}
        <form id="serial-number-update-form" method="post">
            {% csrf_token %}
            <button class="uk-button uk-button-primary" type="submit">Обновить нумерацию задач</button>
        </form>
    {% endif %}
    <ul class="uk-background-default">
        <li class="uk-grid-small" uk-grid>
            <div class="uk-width-small">Изменить порядок</div>
            <div class="uk-width-small">Порядковый номер</div>
            <div class="uk-width-small">Тип задачи</div>
            <div class="uk-width-expand">Описание</div>
            <div class="uk-width-small">Удалить</div>
        </li>
    </ul>
    <ul id="tasks" uk-sortable="handle: .uk-sortable-handle">
        {% for task in tasks %}
            <li class="uk-grid-small uk-child-width-1-5" uk-grid>
                <span name="sort-sign" class="uk-width-small uk-sortable-handle" uk-icon="icon: table"></span>
                <input form="serial-number-update-form" name="class-name" type="hidden"
                       value="{{ task.get_class_name }}">
                <input form="serial-number-update-form" name="pk" type="hidden" value="{{ task.pk }}">
                <a class="uk-width-small" href="{{ task.get_absolute_url }}">
                    <label>
                        <input form="serial-number-update-form" class="serial-number" name="serial-number"
                               data-name="serial-number"
                               data-is-fit-block-to-content-size="True" type="text"
                               value="{{ task.serial_number }}">
                    </label>
                </a>
                <a class="uk-width-small" href="{{ task.get_absolute_url }}">
                    <div>
                        {{ task.task_type }}
                    </div>
                </a>
                <a class="uk-width-expand" href="{{ task.get_absolute_url }}">
                    <div>
                        {{ task.description|safe }}
                    </div>
                </a>
                <div class="uk-width-small">
                    <form method="post" action="{{ task.get_deletion_url }}?testing_pk={{ testing.pk }}">
                        {% csrf_token %}
                        <button type="submit"
                                name="btn-delete"
                                uk-icon="trash"
                                uk-tooltip="Удалить">
                        </button>
                    </form>
                </div>
            </li>
        {% endfor %}
    </ul>
</section>